{"version":3,"sources":["webpack:///./src/views/File.vue?5495","webpack:///./src/views/File.vue","webpack:///./src/views/File.vue?b61f"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","render","_ctx","_cache","$props","$setup","$data","$options","type","accept","onChange","loadFront","src","img_front","loadBack","img_back","length","key","onClick","submitAll","$event","$router","push","setup","qf","front_data","back_data","event","target","files","size","alert","reader","FileReader","value","URL","createObjectURL","onload","base64String","result","replace","readAsDataURL","getImage","Url","Get","then","res","image1","image2","Dataset","Add","Post","GetDset","message","__exports__"],"mappings":"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","file":"static/js/chunk-2d0f04c0.08646b34.js","sourcesContent":["import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"main_bg\" }\nconst _hoisted_2 = { class: \"content bg-white p-10\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"sec_gap\" }, \" 單一檔案請勿超過3MB File size must be less than 3MB \", -1)\nconst _hoisted_4 = { class: \"sec_gap\" }\nconst _hoisted_5 = { class: \"full_button bg-blue-800 rounded text-white text-center\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" 上傳學生證/教職員證(正面)\")\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"Upload Student Card / Staff Card Image (Front) \")\nconst _hoisted_9 = { class: \"sec_gap text-center\" }\nconst _hoisted_10 = [\"src\"]\nconst _hoisted_11 = { class: \"sec_gap\" }\nconst _hoisted_12 = { class: \"full_button bg-blue-800 rounded text-white text-center\" }\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\" 上傳學生證/教職員證(背面)\")\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"Upload Student Card / Staff Card Image (Back) \")\nconst _hoisted_16 = { class: \"sec_gap text-center\" }\nconst _hoisted_17 = [\"src\"]\nconst _hoisted_18 = { class: \"sec_gap\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"label\", _hoisted_5, [\n          _hoisted_6,\n          _hoisted_7,\n          _hoisted_8,\n          _createElementVNode(\"input\", {\n            type: \"file\",\n            class: \"hidden\",\n            accept: \"image/*\",\n            onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.loadFront && _ctx.loadFront(...args)))\n          }, null, 32)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"img\", {\n          class: \"inline-block w-full sm:w-2/3 md:w-1/2\",\n          src: _ctx.img_front\n        }, null, 8, _hoisted_10)\n      ]),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createElementVNode(\"label\", _hoisted_12, [\n          _hoisted_13,\n          _hoisted_14,\n          _hoisted_15,\n          _createElementVNode(\"input\", {\n            type: \"file\",\n            class: \"hidden\",\n            accept: \"image/*\",\n            onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.loadBack && _ctx.loadBack(...args)))\n          }, null, 32)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_16, [\n        _createElementVNode(\"img\", {\n          class: \"inline-block w-full sm:w-2/3 md:w-1/2\",\n          src: _ctx.img_back\n        }, null, 8, _hoisted_17)\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        (_ctx.img_front.length>0 && _ctx.img_back.length>0)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              class: \"full_button bg-blue-800 text-white\",\n              onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.submitAll && _ctx.submitAll(...args)))\n            }, \"送出 Submit\"))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"button\", {\n          class: \"full_button mt-2 bg-blue-800 text-white\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$router.push('/')))\n        }, \"回前頁 Back\")\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, ref } from 'vue'\nimport { QuickFetch } from '@/components/quick'\n\nexport default defineComponent({\n    setup() {\n        const qf = new QuickFetch();\n        const img_front: any = ref('');\n        const img_back: any = ref('');\n        let front_data = \"\";\n        let back_data = \"\";\n        function loadFront(event: any) {\n            if(event.target.files[0].size>3000000){\n                alert(\"檔案過大 File size is too large\");\n            }else{\n                const reader: any = new FileReader();\n                img_front.value = URL.createObjectURL(event.target.files[0]);\n                reader.onload = function () {\n                    let base64String: string = reader.result.replace(\"data:\", \"\").replace(/^.+,/, \"\");\n                    front_data = 'data:image/png;base64, '+base64String;\n                }\n                reader.readAsDataURL(event.target.files[0]);\n            }\n        }\n        function loadBack(event: any) {\n            if(event.target.files[0].size>3000000){\n                alert(\"檔案過大 File size is too large\");\n            }else{\n                const reader: any = new FileReader();\n                img_back.value = URL.createObjectURL(event.target.files[0]);\n                reader.onload = function () {\n                    let base64String: string = reader.result.replace(\"data:\", \"\").replace(/^.+,/, \"\");\n                    back_data = 'data:image/png;base64, '+base64String;\n                }\n                reader.readAsDataURL(event.target.files[0]);\n            }\n        }\n        function getImage(){\n            qf.Url('nhc/image').Get().then((res: any) => {\n                img_front.value = res.image1;\n                img_back.value = res.image2;\n            });\n        }\n        getImage();\n        function submitAll(){\n            if(front_data.length==0){\n                alert(\"請上傳證件正面\");\n            }else if(back_data.length==0){\n                alert(\"請上傳證件背面\");\n            }else{\n                qf.Dataset().Add('image1',front_data).Add('image2',back_data);\n                qf.Url('nhc/file').Post(qf.GetDset()).then((res: any)=>{\n                    if(res.message=='done'){\n                        alert(\"已上傳 Done\");\n                    }else{\n                        alert('上傳失敗，請洽詢體育組 Failed, Please contact Physical & Health Division');\n                    }\n                });\n            }\n        }\n        return {\n            img_front,\n            img_back,\n            loadFront,\n            loadBack,\n            submitAll,\n        }\n    },\n})\n","import { render } from \"./File.vue?vue&type=template&id=e0fe0e24&ts=true\"\nimport script from \"./File.vue?vue&type=script&lang=ts\"\nexport * from \"./File.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/ryanchang/Library/Mobile Documents/com~apple~CloudDocs/Project/health_code/nhc_front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}