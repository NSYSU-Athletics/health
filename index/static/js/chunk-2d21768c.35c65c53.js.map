{"version":3,"sources":["webpack:///./src/views/Certificate.vue?e418","webpack:///./src/views/Certificate.vue","webpack:///./src/views/Certificate.vue?a440"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","value","selected","disabled","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","render","_ctx","_cache","$props","$setup","$data","$options","$event","cert_type","type","accept","onChange","loadImage","src","img","length","key","onClick","submitAll","$router","push","setup","qf","img_data","event","target","files","size","alert","reader","FileReader","URL","createObjectURL","onload","base64String","result","replace","readAsDataURL","getImage","Url","Get","then","res","certificate","Dataset","AddObj","Add","Post","GetDset","message","__exports__"],"mappings":"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","file":"static/js/chunk-2d21768c.35c65c53.js","sourcesContent":["import { createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"main_bg\" }\nconst _hoisted_2 = { class: \"content bg-white p-10\" }\nconst _hoisted_3 = { class: \"sec_gap\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 證明類型 Type of the Certificate \")\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  selected: \"\",\n  disabled: \"\"\n}, \"請選擇\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"vac\" }, \"疫苗紀錄 Vaccine Certificate\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"pcr\" }, \"PCR陰性證明 PCR Test Report\", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"rat\" }, \"快篩陰性證明 Rapid Antigen Test Report\", -1)\nconst _hoisted_9 = [\n  _hoisted_5,\n  _hoisted_6,\n  _hoisted_7,\n  _hoisted_8\n]\nconst _hoisted_10 = { class: \"sec_gap\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"mb-2\" }, \"單一檔案請勿超過3MB File size must be less than 3MB\", -1)\nconst _hoisted_12 = { class: \"full_button bg-blue-800 rounded text-white text-center\" }\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\" 上傳健康證明資料\")\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"Upload Health Certificate \")\nconst _hoisted_16 = { class: \"sec_gap text-center\" }\nconst _hoisted_17 = [\"src\"]\nconst _hoisted_18 = { class: \"sec_gap\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"label\", null, [\n          _hoisted_4,\n          _withDirectives(_createElementVNode(\"select\", {\n            class: \"border-2 rounded border-gray-400 px-3 py-1 ml-2\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.cert_type) = $event))\n          }, _hoisted_9, 512), [\n            [_vModelSelect, _ctx.cert_type]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _hoisted_11,\n        _createElementVNode(\"label\", _hoisted_12, [\n          _hoisted_13,\n          _hoisted_14,\n          _hoisted_15,\n          _createElementVNode(\"input\", {\n            type: \"file\",\n            class: \"hidden\",\n            accept: \"image/*\",\n            onChange: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.loadImage && _ctx.loadImage(...args)))\n          }, null, 32)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_16, [\n        _createElementVNode(\"img\", {\n          class: \"inline-block w-full sm:w-2/3 md:w-1/2\",\n          src: _ctx.img\n        }, null, 8, _hoisted_17)\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        (_ctx.img.length>0)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              class: \"full_button bg-blue-800 text-white\",\n              onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.submitAll && _ctx.submitAll(...args)))\n            }, \"送出 Submit\"))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"button\", {\n          class: \"full_button mt-2 bg-blue-800 text-white\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$router.push('/')))\n        }, \"回前頁 Back\")\n      ])\n    ])\n  ]))\n}","\r\nimport { defineComponent, ref } from 'vue'\r\nimport { QuickFetch } from '@/components/quick'\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        const qf = new QuickFetch();\r\n        const img: any = ref('');\r\n        const cert_type: any = ref('');\r\n        let img_data = \"\";\r\n        function loadImage(event: any) {\r\n            if(event.target.files[0].size>3000000){\r\n                alert(\"檔案過大 File size is too large\");\r\n            }else{\r\n                const reader: any = new FileReader();\r\n                img.value = URL.createObjectURL(event.target.files[0]);\r\n                reader.onload = function () {\r\n                    let base64String: string = reader.result.replace(\"data:\", \"\").replace(/^.+,/, \"\");\r\n                    img_data = 'data:image/png;base64, '+base64String;\r\n                }\r\n                reader.readAsDataURL(event.target.files[0]);\r\n            }\r\n        }\r\n        function getImage(){\r\n            qf.Url('nhc/certificate').Get().then((res: any) => {\r\n                img.value = res.certificate;\r\n            });\r\n        }\r\n        getImage();\r\n        function submitAll(){\r\n            if(cert_type.value.length==0){\r\n                alert(\"請選擇證明類型 Please select type of your certificate\");\r\n            }else if(img_data.length==0){\r\n                alert(\"請上傳證明 Please upload your certificate\");\r\n            }else{\r\n                qf.Dataset().AddObj('certificate_type', cert_type).Add('certificate',img_data);\r\n                qf.Url('nhc/certificate').Post(qf.GetDset()).then((res: any)=>{\r\n                    if(res.message=='done'){\r\n                        alert(\"已上傳 Done\");\r\n                    }else{\r\n                        alert('上傳失敗，請洽詢體育組 Failed, Please contact Physical & Health Division');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return {\r\n            img,\r\n            cert_type,\r\n            loadImage,\r\n            submitAll\r\n        }\r\n    },\r\n})\r\n","import { render } from \"./Certificate.vue?vue&type=template&id=3c5e6b70&ts=true\"\nimport script from \"./Certificate.vue?vue&type=script&lang=ts\"\nexport * from \"./Certificate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\Server\\\\www\\\\nsysu\\\\health_code\\\\nhc_front\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}