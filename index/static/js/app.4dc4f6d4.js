(function(e){function t(t){for(var a,o,i=t[0],l=t[1],s=t[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},o={app:0},r={app:0},c=[];function i(e){return l.p+"static/js/"+({}[e]||e)+"."+{"chunk-063dd784":"7609d31b","chunk-0d74efac":"f1cb5e3f","chunk-62432f3a":"da49b74f","chunk-2d0f04c0":"799515c2","chunk-2d21768c":"35c65c53"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-063dd784":1,"chunk-0d74efac":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-063dd784":"b04d74a4","chunk-0d74efac":"9b7f14bc","chunk-62432f3a":"31d6cfe0","chunk-2d0f04c0":"31d6cfe0","chunk-2d21768c":"31d6cfe0"}[e]+".css",r=l.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===a||u===r))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],u=s.getAttribute("data-href");if(u===a||u===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],f.parentNode.removeChild(f),n(c)},f.href=r;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=c);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(e);var d=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/health/admin/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1450:function(e,t,n){"use strict";n("7ff7")},"1f35":function(e){e.exports=JSON.parse('{"res_id":"身分證字號","school_id":"學號/員工編號","name":"真實姓名","phone":"手機號碼","password":"密碼","confirm_password":"確認密碼","forget_password":"忘記密碼","login_btn":"登入","signup_btn":"註冊","logout_btn":"登出","qr_valid_time":"QR Code 有效時間 (秒)","0000":"帳號尚未通過認證，請靜候審核","xxxx":"身份不合，請洽體育組","xxxo":"健康狀態審核中","v1x":"已接種 1 劑新冠疫苗 (未滿14天)","v1o":"已接種 1 劑新冠疫苗","v2x":"已接種 2 劑新冠疫苗 (未滿14天)","v2o":"已接種 2 劑新冠疫苗","v2i":"已接種 2 劑新冠疫苗 (超過12週)","v3o":"已接種 3 劑新冠疫苗","pcr":"PCR陰性證明","rat":"快篩陰性證明","px1":"無效的PCR陰性證明","px2":"非期限內的PCR陰性證明","rx1":"無效的快篩陰性證明","rx2":"非期限內的快篩陰性證明","x":"尚未填寫健康聲明書","o":"已填寫健康申明書","receive":"日期 : ","day_before":"天前","green":"請走綠色通道入場","yellow":"請走黃色通道，並出示相關陰性證明，方可入場","red":"不符合防疫規定，禁止進入會場","declration_btn":"健康關懷問卷","upload_id_btn":"上傳學生證/員工證","upload_certificate_btn":"上傳疫苗/篩檢證明"}')},"37a8":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var a=n("d4ec"),o=n("bee2"),r=n("262e"),c=n("2caf"),i=n("bc3a"),l=n.n(i),s=n("6c02"),u=n("5502"),d=Object(o["a"])((function e(){Object(a["a"])(this,e),this.profix="https://rikujo.xyz/server/api/",this.headers={Authorization:"Bearer ".concat(localStorage.nhc_token),Accept:"application/json","Content-Type":"application/json; charset=utf-8"}})),f=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.url="",e.router=Object(s["c"])(),e.store=Object(u["b"])(),e.dataset={},e}return Object(o["a"])(n,[{key:"Url",value:function(e){return this.url=this.profix+e,this}},{key:"ErrHdl",value:function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),403==e.response.status&&"Unauthenticated_connection"==e.response.data.message&&(alert("請重新登入 Please login again"),localStorage.removeItem("nhc_token"),localStorage.removeItem("nhc_data"),this.router.push("/login"))):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}},{key:"Get",value:function(){var e=this;return l.a.get(this.url,{headers:this.headers}).then((function(e){return e.data})).catch((function(t){e.ErrHdl(t)}))}},{key:"Login",value:function(e){var t=this;return l.a.post(this.url,e).then((function(e){return e.data})).catch((function(e){t.ErrHdl(e)}))}},{key:"GetAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return l.a.get(this.url,{headers:this.headers}).then((function(t){if(void 0===n)return e.value=t.data,t.data;e.value=t.data[n]})).catch((function(e){t.ErrHdl(e)}))}},{key:"GetNoH",value:function(e){var t=this;return l.a.get(this.url).then((function(t){return e.value=t.data,t.data})).catch((function(e){t.ErrHdl(e)}))}},{key:"Post",value:function(e){var t=this;return l.a.post(this.url,e,{headers:this.headers}).then((function(e){return e.data})).catch((function(e){t.ErrHdl(e)}))}},{key:"Patch",value:function(e,t){var n=this;return l.a.patch(this.url+"/"+e,t,{headers:this.headers}).then((function(e){return e.data})).catch((function(e){n.ErrHdl(e)}))}},{key:"Delete",value:function(e){var t=this;return l.a.delete(this.url+"/"+e,{headers:this.headers}).then((function(e){return e.data})).catch((function(e){t.ErrHdl(e)}))}},{key:"Dataset",value:function(){return this.dataset={},this}},{key:"Add",value:function(e,t){return this.dataset[e]=t,this}},{key:"AddObj",value:function(e,t){return this.dataset[e]=t.value,this}},{key:"GetDset",value:function(){return this.dataset}},{key:"EptObj",value:function(e){return 0===e.value.length}}]),n}(d),b=function(){function e(){Object(a["a"])(this,e),this.store=Object(u["b"])()}return Object(o["a"])(e,[{key:"changeLang",value:function(e){this.store.commit("changeLanguage",e)}}]),e}()},"41db":function(e,t,n){"use strict";n("68e6")},"428c":function(e,t,n){e.exports=n.p+"static/img/logo_white.5fb377d9.png"},4619:function(e,t,n){},"669b":function(e){e.exports=JSON.parse('{"res_id":"Unified ID / National ID","school_id":"Student ID / Staff ID","name":"Full Name","phone":"Phone Number (TW)","password":"Password","confirm_password":"Confirm Password","forget_password":"Forget password","login_btn":"Login","signup_btn":"Signup","logout_btn":"Logout","qr_valid_time":"QR Code Valid Time (S)","0000":"Not been verified","xxxx":"Invalid user, Please contact Physical & Health Division","xxxo":"Health status is currently under review","v1x":"Partially Vaccinated (未滿14天)","v1o":"Partially Vaccinated","v2x":"Fully Vaccinated (未滿14天)","v2o":"Fully Vaccinated","v2i":"Fully Vaccinated (超過12週)","v3o":"Fully Vaccinated with Booster","pcr":"PCR Negative","rat":"Rapid Antigen Test Negative","px1":"PCR Negative (Invalid)","px2":"PCR Negative (Expired)","rx1":"Rapid Antigen Test Negative (Invalid)","rx2":"Rapid Antigen Test Negative (Expired)","x":"I have Not completed the Health declration form","o":"I have completed the Health declration form","receive":"Date : ","day_before":"D before","green":"Please take the GREEN passage.","yellow":"Please take the YELLOW passage with your PCR / Rapid Antigen Test Result.","red":"You are NOT ALLOWED to enter this venue.","declration_btn":"Health declration form","upload_id_btn":"Upload Student Cart / Staff Card","upload_certificate_btn":"Upload Vaccination Certificate"}')},"68e6":function(e,t,n){},"7ff7":function(e,t,n){},"8ee1":function(e,t,n){"use strict";n("4619")},a1ae:function(e,t,n){"use strict";n("a72b")},a72b:function(e,t,n){},a766:function(e,t,n){},c60f:function(e,t,n){"use strict";var a=n("1f35"),o=n("669b");t["a"]=function(e){switch(e){case"en_US":return o;case"zh_TW":return a}}},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={class:"bg-gray-100 min-h-screen flex flex-col"},r={class:"flex-grow"};function c(e,t,n,c,i,l){var s=Object(a["resolveComponent"])("router-view"),u=Object(a["resolveComponent"])("Footer");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",r,[Object(a["createVNode"])(s)]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(u)])])}var i=function(e){return Object(a["pushScopeId"])("data-v-93db930a"),e=e(),Object(a["popScopeId"])(),e},l={class:"p-5 bg-gray-200 shadow text-center bottom-0"},s=Object(a["createTextVNode"])(" | "),u=i((function(){return Object(a["createElementVNode"])("div",{class:"mt-2 text-baseline"},"國立中山大學健康通行碼管理系統",-1)})),d=i((function(){return Object(a["createElementVNode"])("div",{class:"mt-2 text-sm"},"本系統由田徑隊協助建置",-1)})),f=i((function(){return Object(a["createElementVNode"])("div",{class:"mt-2 text-sm"},"© 2022 Ryan P.H. Chang",-1)}));function b(e,t,n,o,r,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",{class:"lang_btn",onClick:t[0]||(t[0]=function(t){return e.setLang("zh_TW")})},"繁體中文"),s,Object(a["createElementVNode"])("span",{class:"lang_btn",onClick:t[1]||(t[1]=function(t){return e.setLang("en_US")})},"English")]),u,d,f])}var p=n("37a8"),h=Object(a["defineComponent"])({setup:function(){var e=new p["a"];function t(t){e.changeLang(t)}return{setLang:t}}}),v=(n("1450"),n("6b0d")),g=n.n(v);const m=g()(h,[["render",b],["__scopeId","data-v-93db930a"]]);var O=m,j=Object(a["defineComponent"])({setup:function(){return{}},components:{Footer:O}});n("8ee1"),n("a1ae");const x=g()(j,[["render",c]]);var y=x,k=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),_=(n("b0c0"),n("a4d3"),n("e01a"),n("428c")),w=n.n(_),N={class:"main_bg h-full"},E={class:"m-auto w-11/12 sm:w-3/4 md:w-2/3 lg:w-1/2 bg-white p-5 md:p-10 shadow rounded"},S=Object(a["createStaticVNode"])('<div class="flex items-center"><img src="'+w.a+'" class="w-16 md:w-20 mr-2"><div class="flex-grow"><div class="text-1xl md:text-4xl">中山大學健康通行碼</div><div class="text-xs md:text-xl">Nnational Sun Yat-sen University Health Passcode</div></div></div><hr class="my-2">',2),C={class:"mt-5 text-lg text-center"},V={class:"text-4xl font-bold mb-2 text-center"},P={key:0,class:"text-2xl font-bold mb-2 text-center text-red-600"},D={key:1,class:"text-2xl font-bold mb-2 text-center text-yellow-500"},B={key:2,class:"text-2xl font-bold mb-2 text-center text-green-600"},T={key:3,class:"text-xl text-center text-gray-400"},I={key:4,class:"text-xl text-center text-gray-400"},L={key:5,class:"text-xl text-center text-gray-400"},R=Object(a["createElementVNode"])("hr",{class:"my-2"},null,-1),H={class:"list"};function A(e,t,n,o,r,c){var i=Object(a["resolveComponent"])("QRCodeVue3"),l=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",N,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",E,[S,Object(a["createElementVNode"])("div",C,Object(a["toDisplayString"])(e.lang.qr_valid_time)+" : "+Object(a["toDisplayString"])(e.countdown),1),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(i,{value:e.qrcode_data,dotsOptions:e.qrcode_display,margin:0,cornersSquareOptions:e.qrcode_display,cornersDotOptions:e.qrcode_display,backgroundOptions:{color:"rgba(0,0,0,0)"},imgclass:{"mx-auto my-5":!0,shine_red:0==e.signal,shine_yellow:1==e.signal,shine_green:2==e.signal}},null,8,["value","dotsOptions","cornersSquareOptions","cornersDotOptions","backgroundOptions","imgclass"])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",V,Object(a["toDisplayString"])(e.name),1),0==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",P,Object(a["toDisplayString"])(e.lang[e.description]),1)):Object(a["createCommentVNode"])("",!0),1==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",D,Object(a["toDisplayString"])(e.lang[e.description]),1)):Object(a["createCommentVNode"])("",!0),2==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",B,Object(a["toDisplayString"])(e.lang[e.description]),1)):Object(a["createCommentVNode"])("",!0),0==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",T,Object(a["toDisplayString"])(e.lang.red),1)):Object(a["createCommentVNode"])("",!0),1==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",I,Object(a["toDisplayString"])(e.lang.yellow),1)):Object(a["createCommentVNode"])("",!0),2==e.signal?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",L,Object(a["toDisplayString"])(e.lang.green),1)):Object(a["createCommentVNode"])("",!0)]),R,Object(a["createElementVNode"])("div",H,[0==e.button.form?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,to:"/form"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.lang.declration_btn),1)]})),_:1})):Object(a["createCommentVNode"])("",!0),0==e.button.identity?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,to:"/upload_id"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.lang.upload_id_btn),1)]})),_:1})):Object(a["createCommentVNode"])("",!0),0==e.button.health?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:2,to:"/upload_certificate"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.lang.upload_certificate_btn),1)]})),_:1})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("button",{class:"w-full p-3 text-center bg-blue-700 rounded mt-5 text-white",onClick:t[0]||(t[0]=function(){return e.logout&&e.logout.apply(e,arguments)})},Object(a["toDisplayString"])(e.lang.logout_btn),1)])])])])}var q=n("61c6"),F=n.n(q),U=n("c60f"),G=n("5502"),W=Object(a["defineComponent"])({name:"Home",setup:function(){var e=Object(G["b"])(),t=Object(k["c"])(),n=new p["b"],o=Object(a["computed"])((function(){return e.state.language})),r=Object(a["ref"])(Object(U["a"])(o.value)),c=Object(a["ref"])(""),i=Object(a["ref"])({type:"square",color:"#dc2626"}),l=Object(a["ref"])(""),s=Object(a["ref"])(""),u=Object(a["ref"])(0),d=Object(a["ref"])({form:0,identity:0,health:0}),f=["#dc2626","#eab308","#16a34a"];Object(a["watch"])(o,(function(){r.value=Object(U["a"])(o.value)}));var b=Object(a["ref"])("讀取中 Reloading"),h=["v2o","v3o","pcr","rat"];function v(e){c.value=e.code,l.value=e.name,d.value.form=e.form,d.value.identity=e.identity,d.value.health=e.health,"0000"==e.status||"xxxx"==e.status||"xxxo"==e.status?(s.value=e.status,u.value=0,i.value.color=f[u.value]):(u.value=0,"x"==e.status.substr(3,1)?(s.value=e.status.substr(3,1),u.value=0):(s.value=e.status.substr(0,3),u.value=1,h.indexOf(e.status.substr(0,3))>-1&&(u.value=2)),i.value.color=f[u.value])}function g(){n.Url("nhc/user").Get().then((function(e){v(e),b.value=30}))}function m(){localStorage.removeItem("nhc_token"),localStorage.removeItem("nhc_data"),t.push("/login")}return g(),setInterval((function(){g()}),3e4),setInterval((function(){b.value>0?b.value--:b.value="讀取中 Reloading"}),1e3),{lang_code:o,lang:r,logout:m,qrcode_data:c,qrcode_display:i,countdown:b,name:l,description:s,signal:u,button:d}},components:{QRCodeVue3:F.a}});n("41db");const z=g()(W,[["render",A]]);var J=z,M=[{path:"/",name:"Home",component:J},{path:"/login",name:"Login",component:function(){return n.e("chunk-063dd784").then(n.bind(null,"a55b"))}},{path:"/form",name:"Form",component:function(){return n.e("chunk-0d74efac").then(n.bind(null,"c109"))}},{path:"/upload_id",name:"File",component:function(){return Promise.all([n.e("chunk-62432f3a"),n.e("chunk-2d0f04c0")]).then(n.bind(null,"9c88"))}},{path:"/upload_certificate",name:"Certificate",component:function(){return Promise.all([n.e("chunk-62432f3a"),n.e("chunk-2d21768c")]).then(n.bind(null,"c735"))}}],Q=Object(k["a"])({history:Object(k["b"])(),routes:M});Q.beforeEach((function(e,t){var n=localStorage.nhc_token;if(n){var a=JSON.parse(localStorage.nhc_data),o=new Date(a.expired).getTime(),r=Date.now();if(o<=r&&"/login"!=e.path)return localStorage.removeItem("nhc_token"),localStorage.removeItem("nhc_data"),alert("請重新登入 Please log in again"),"/login"}else if("/login"!=e.path)return alert("請先登入 Please log in first"),"/login"}));var Y=Q,K=Object(G["a"])({state:{language:"zh_TW"},mutations:{changeLanguage:function(e,t){e.language=t}},actions:{},modules:{}});n("a766");Object(a["createApp"])(y).use(K).use(Y).mount("#app")}});
//# sourceMappingURL=app.4dc4f6d4.js.map